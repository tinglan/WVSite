<html style="background-color:black;text-align:center"><head><title>Encrypted Content - WideVine</title>
<script language="javascript" src="./demo.js">
</script>
<script language="javascript" src="./js/jquery-1.7.1.min.js">
</script>
<script language="javascript" src="./js/jquery-ui-1.8.18.custom.min.js">
</script>
<link rel="stylesheet" href="./css/ui-lightness/jquery-ui-1.8.18.custom.css" type="text/css" media="screen" />
</head>
</head>
<body>

<script language="javascript" src="./AC_OETags.js">
</script>
<script type="text/javascript">
function isMobile()
{
	if((navigator.userAgent.match(/Android 3.1/i) == "Android 3.1") ||
	   (navigator.userAgent.match(/Android 3.2/i) == "Android 3.2") ||
           (navigator.userAgent.match(/iPad/i) == "iPad"))
        {
          return true;
        }

        return false;

}

function openWVClip()
{
	if((navigator.userAgent.match(/Android 3.1/i) == "Android 3.1") ||
	   (navigator.userAgent.match(/Android 3.2/i) == "Android 3.2"))
	{
//		window.open('widevine://cdn.media.dsaa.disney.go.com/test/dtg/tangled_trailer_sd.wvm');
 		window.open('widevine://cdnakmi.kaltura.com/p/803032/sp/80303200/raw/entry_id/0_fio1f1dd/flavor/0_to5mj4tp/version/0.wvm?relocate=f.wvm');
		
        }
        else if (navigator.userAgent.match(/iPad/i) == "iPad")
        {
		window.open('gogo://192.168.1.8/static/index.html?mediaId=AGCVFF0061&airlineCode=y8Fe4&tailNumber=N12345&appSection=8&appSubSection=2#');
		//window.open('wvplay://cdnakmi.kaltura.com/p/803032/sp/80303200/raw/entry_id/0_fio1f1dd/flavor/0_to5mj4tp/version/0.wvm');
        }
	else
	{
		$( "#dialogWV" ).dialog('open');
        return;                                                  
    }

                



}
</script>
<script>
	$(function() {
                if (!isMobile())
                {
                     
	//	   $( "#buttonWV" ).html("Launch WV enabled player");
		$( "#buttonWV" ).hide();
		}
                else
                {
		    $( "#dialogWV" ).dialog({ autoOpen: false, width: 680, modal: true, resizable: false, show: {effect: 'slide', duration: 3000}, hide: 'explode'});
		    $( "#dialogNoWV" ).dialog({ autoOpen: false, width: 680, modal: true, resizable: false, show: {effect: 'slide', duration: 3000}, hide: 'explode'});
		    $( "#buttonWV").button();
		    $( "#buttonWV" ).click(function() { openWVClip()});
//		    $( "#buttonNoWV").button();
//		    $( "#buttonNoWV" ).click(function() { $( "#dialogNoWV" ).dialog('open'); });
                }
		
	});
	</script>
<div id="flashDiv" style="color:white">
</div>
<div id="dialogWV" title="Kaltura player With WV Plugin">
'</span>'+
</div>

<div>
  <table style="width:965px;font-family:Arial,Verdana" cellspacing="0">
  </table>
</div>

<noscript>
<h1 align='center'>Scripting disabled</h1>
</noscript>
//<script language="javascript" src="./WidevineMediaTransformer.js">
<script language="javascript" src="./WidevineMediaOptimizer.js">

</script>

<script language=JavaScript>
  if ( WidevinePlugin ) {
       WidevinePlugin.Default_WVEventListener = function(event, message) {
       alert( event );
       alert( message );
     }
  }

function setupPlayer(obj){
/*	var someHTML = '<object ID=flashplayer classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" wmode="opaque" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="800" height="800" align="middle" VIEWASTEXT>' +
             '<param name="allowScriptAccess" value="sameDomain" />' +
             '<param name="allowFullScreen" value="true" />' +
             '<param name="movie" value="WidevineMediaTransformer_VideoPlayer.swf" />' +
             '<param name="quality" value="high" />' +
             '<param name="wmode" value="opaque" />' +
             '<embed NAME="flashplayer" swLiveConnect="true" src="WidevineMediaTransformer_VideoPlayer.swf" quality="high" name="test" width="800px" height="800px" wmode="opaque" align="middle" allowScriptAccess="sameDomain"  allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />' +
             '</object>';
             working = http://cdn.media.dsaa.disney.go.com/test/dtg/tangled_trailer_hd.wvm*/
			 var firstHTML = '<object id="kaltura_player" name="kaltura_player" type="application/x-shockwave-flash" allowfullscreen="true" allownetworking="all" allowscriptaccess="always" height="390" width="640" xmlns:dc="http://purl.org/dc/terms/" xmlns:media="http://search.yahoo.com/searchmonkey/media/" rel="media:video" resource="http://localhost/kaltura/demo/players/wdv/kdp3.swf" data="http://localhost/kaltura/demo/players/wdv/kdp3.swf">'+
'<param name="allowFullScreen" value="true">'+
'<param name="allowNetworking" value="all">'+
'<param name="allowScriptAccess" value="always">'+
'<param name="bgcolor" value="#000000">'+
'<param name="movie" value="http://localhost/kaltura/demo/players/wdv/kdp3.swf">'+
'<param name="flashvars" value="&externalInterfaceDisabled=false&autoPlay=false&uiConfId=48503&disableAlerts=false&widevinemedia=true&pluginDomain=http://localhost/kaltura/demo/players/wdv/plugins/&sourceType=url&kml=local&kmlPath=http://localhost/kaltura/demo/players/wdv/config.xml&full.skinPath=http://localhost/kaltura/demo/players/wdv/assets/skin.swf?a=2&entryId=http://localhost/kaltura/demo/ElephantsDream1.wvm">'+
'<a href="http://corp.kaltura.com">video platform</a> <a href="http://corp.kaltura.com/video_platform/video_management">video management</a> '+
'<a href="http://corp.kaltura.com/solutions/video_solution">video solutions</a> '+
'<a href="http://corp.kaltura.com/video_platform/video_publishing">video player</a>'+ 
'<a rel="media:thumbnail" href="http://cdnbakmi.kaltura.com/p/169002/sp/16900200/thumbnail/entry_id/1_bpvaq85a/width/120/height/90/bgcolor/000000/type/2">'+ 
'<span property="dc:description" content="You never know who might come by here deep in the woods.">'+
'<span property="media:title" content="Paddling By"> '+
'<span property="media:width" content="640">'+
'<span property="media:height" content="390"> '+
'<span property="media:type" content="application/x-shockwave-flash">'+
'</span>'+
'</span>'+
'</span>'+
'</span>'+
'</a>'+
'</object>';
var secondHTML = '<object id="kaltura_player_2" name="kaltura_player_2" type="application/x-shockwave-flash" allowfullscreen="true" allownetworking="all" allowscriptaccess="always" height="390" width="640" xmlns:dc="http://purl.org/dc/terms/" xmlns:media="http://search.yahoo.com/searchmonkey/media/" rel="media:video" resource="http://localhost/kaltura/demo/players/feature/kdp3.swf" data="http://localhost/kaltura/demo/players/feature/kdp3.swf">'+
'<param name="allowFullScreen" value="true">'+
'<param name="allowNetworking" value="all">'+
'<param name="allowScriptAccess" value="always">'+
'<param name="bgcolor" value="#000000">'+
'<param name="movie" value="http://localhost/kaltura/demo/players/feature/kdp3.swf">'+
'<param name="flashvars" value="&externalInterfaceDisabled=false&autoPlay=true&uiConfId=48503&disableAlerts=false&sourceType=url&kml=local&kmlPath=http://localhost/demo/players/feature/config.xml&full.skinPath=http://localhost/kaltura/demo/players/feature/assets/skin.swf?a=2&entryId=http://cdnakmi.kaltura.com/p/384591/sp/38459100/raw/entry_id/1_l5b9pt32/version/0.wvm">'+
'<a href="http://corp.kaltura.com">video platform</a> <a href="http://corp.kaltura.com/video_platform/video_management">video management</a> '+
'<a href="http://corp.kaltura.com/solutions/video_solution">video solutions</a> '+
'<a href="http://corp.kaltura.com/video_platform/video_publishing">video player</a>'+ 
'<a rel="media:thumbnail" href="http://cdnbakmi.kaltura.com/p/169002/sp/16900200/thumbnail/entry_id/1_bpvaq85a/width/120/height/90/bgcolor/000000/type/2">'+ 
'<span property="dc:description" content="You never know who might come by here deep in the woods.">'+
'<span property="media:title" content="Paddling By"> '+
'<span property="media:width" content="640">'+
'<span property="media:height" content="390"> '+
'<span property="media:type" content="application/x-shockwave-flash">'+
'</span>'+
'</span>'+
'</span>'+
'</span>'+
'</span>'+
'</a>'+
'</object>'
	if (isMobile())
	{
		document.getElementById("flashDiv").innerHTML = '<span class="ui-widget">This page demonstates kaltura ability to play WideVine encrypted movies.<br/><br/><br/> Below there is a button, clicking it will launch a WideVine enabled player (different per platform).<br/><br/></span>';
	}
	else
	{
		document.getElementById("flashDiv").innerHTML = '<span class="ui-widget">This page demonstates kaltura ability to play WideVine encrypted movies.</span>';
	}
	document.getElementById("dialogWV").innerHTML = firstHTML;
//	document.getElementById("dialogNoWV").innerHTML = secondHTML;
	$( "#dialogWV" ).resizable( "option", "disabled" );
}

	function checkText(){
           	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
               		+ "Checking for Plugin"
                        + "</div>";
    	}

     	function upgradeText(){
           	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
                        + "Upgrade Plugin"
                        + "</div>";
    	}

   	function initText(){
          	document.getElementById("flashDiv").innerHTML = "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>Initializing</div>";
      	}

   	function getFlashText(){
            	document.getElementById("flashDiv").innerHTML= "<div style='text-align: center; vertical-align: center; height: 550px; width: 800px'>"
                        + "<div style='padding-top: 25px'><a href='http://get.adobe.com/flashplayer/' style='color: white;  font-size: 14pt; text-decoration: none; font-family: sans-serif'>Click here to <span style='color: green; font-weight: bold'>GET FLASH</span></a></div>"
                        + "</div>";
   	}

     	function dumby(){
          	var player = document.getElementById("flashDiv");
               	player.innerHTML = '<div>Restart browser after installing flash.</div><object ID=flashplayer classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" wmode="transparent" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="500" height="400" align="middle" VIEWASTEXT>'
                  	+ '<param name="allowScriptAccess" value="sameDomain" />'
                    	+ '<param name="allowFullScreen" value="true" />'
                      	+ '<param name="quality" value="high" />'
                    	+ '<param name="wmode" value="transparent">'
                   	+ '<embed NAME="flashplayer" swLiveConnect="true" quality="high" name="test" wmode="transparent" width="500px" height="400px" align="middle" allowScriptAccess="sameDomain"  allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" />'
                   	+ '</object>';

   	}

 
function setCredentials(){
	document.getElementById('client_id').innerHTML = WVGetClientId();
	if (document.getElementById('device_id').value != "")
		WVSetDeviceId(document.getElementById('device_id').value);

	if (document.getElementById('stream_id').value != "")
		WVSetStreamId(document.getElementById('stream_id').value);

	if (document.getElementById('client_ip').value != "")
		WVSetClientIp(document.getElementById('client_ip').value);

	if (document.getElementById('emm_url').value != "")
		WVSetEmmURL(document.getElementById('emm_url').value);

	if (document.getElementById('emm_ack_url').value != "")
		WVSetEmmAckURL(document.getElementById('emm_ack_url').value);

	if (document.getElementById('hb_url').value != "")
		WVSetHeartbeatUrl(document.getElementById('hb_url').value);

	if (document.getElementById('hb_period').value != "")
		WVSetHeartbeatPeriod(document.getElementById('hb_period').value);

	if (document.getElementById('user_data').value != "")
		WVSetOptData(document.getElementById('user_data').value);
	
	document.getElementById('device_id_cell').innerHTML = WVGetDeviceId();
	document.getElementById('stream_id_cell').innerHTML = WVGetStreamId();
	document.getElementById('client_ip_cell').innerHTML = WVGetClientIp();
	document.getElementById('emm_url_cell').innerHTML = WVGetEmmURL();
	document.getElementById('emm_ack_url_cell').innerHTML = WVGetEmmAckURL(); 
	document.getElementById('hb_url_cell').innerHTML = WVGetHeartbeatUrl();
	document.getElementById('hb_period_cell').innerHTML = WVGetHeartbeatPeriod();
	document.getElementById('user_data_cell').innerHTML = WVGetOptData();
	alert("Credentials Submitted");
}

</script>
<button id="buttonWV" style="background-image:url(tangled.jpg);height:188px;width:268px;">&nbsp;</button>
<!--button id="buttonNoWV">Kaltura Player  - No WV Plugin</button-->

<!--input type="Button" Value="Check installed WV version" OnClick="alert(document.getElementById('WidevinePlugin').GetVersion());"-->
<script>
	checkFlash();
</script>
</body>
</html>